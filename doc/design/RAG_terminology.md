## RAG 相關術語解釋

本文檔旨在記錄和解釋在 AI 問答系統架構中遇到的關鍵術語，以便團隊成員有共同的理解。

---

### 1. SSE (Server-Sent Events)

**SSE (Server-Sent Events)** 是一種網頁技術，允許伺服器在與客戶端（瀏覽器）建立一次性連線後，能夠**主動、單向地**持續向客戶端推送更新資料。

**核心概念：**

-   **單向串流**：資料流動方向為 `伺服器 -> 客戶端`。
-   **持久連線**：客戶端發起請求後，伺服器會保持該 HTTP 連線開啟，以便隨時發送事件。
-   **自動重連**：如果連線中斷，瀏覽器會自動嘗試重新連線。
-   **輕量高效**：相較於 WebSocket，SSE 基於標準的 HTTP/HTTPS 協議，實作更為簡單，且資源消耗較低。

**在履歷問答專案中的應用：**

主要用於實現 AI 回答時的「打字機效果」。當後端語言模型（LLM）逐字生成答案時，會透過 SSE 將每一個生成的小片段（token）即時串流到前端。

-   **優點**：
    -   **改善使用者體驗**：使用者能立刻看到回應，減少等待的焦慮感。
    -   **降低首次回應時間 (TTFB)**：讓系統感覺反應更為靈敏。
-   **與 WebSocket 的比較**：WebSocket 提供雙向溝通，功能更強大但實作稍重；對於僅需伺服器推送更新的場景（如本專案），SSE 是更合適的選擇。

---

### 2. Ingestion (資料擷取與處理)

在 RAG (Retrieval-Augmented Generation) 系統中，**Ingestion** 指的是一套完整的**「資料擷取、處理、轉換並載入」**的流程。這是建構任何檢索系統的基礎準備工作。

**核心目標：**

將原始、非結構化的資料（例如 `resume.json` 或 `.tex` 文件），轉換為可供 AI 高效檢索的格式（通常是向量），並存入專門的資料庫（向量資料庫）中。

**主要步驟：**

1.  **讀取 (Load)**：從來源讀取原始資料。
2.  **切分 (Chunking / Split)**：將長篇的資料策略性地拆分成有意義、固定大小的文字區塊 (chunks)。精準的切分策略是提升檢索品質的關鍵。
3.  **向量化 (Embedding)**：使用嵌入模型（如 `text-embedding-3-small`）將每一個文字 chunk 轉換為一個數學向量 (vector)。這個向量代表了該段文字的語義。
4.  **儲存 (Store)**：將處理好的 chunks、中繼資料 (metadata) 及其對應的向量，一同存入向量資料庫（如 Supabase/pgvector）並建立索引。

**在履歷問答專案中的應用：**

整個流程是為了將 `resume.json` 的內容「預處理」成一個 AI 能夠理解並能快速查找的知識庫。`POST /rag/ingest` 這個 API 的作用就是觸發並執行此流程。一旦 Ingestion 完成，系統就能在使用者提問時，透過語義相似度快速找到最相關的履歷內容，以生成精準的回答。
